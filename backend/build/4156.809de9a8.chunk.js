(self.webpackChunkgettem=self.webpackChunkgettem||[]).push([[4156],{19544:(g,O,e)=>{const t=Symbol("SemVer ANY");class u{static get ANY(){return t}constructor(d,p){if(p=i(p),d instanceof u){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),n("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}parse(d){const p=this.options.loose?h[c.COMPARATORLOOSE]:h[c.COMPARATOR],x=d.match(p);if(!x)throw new TypeError(`Invalid comparator: ${d}`);this.operator=x[1]!==void 0?x[1]:"",this.operator==="="&&(this.operator=""),x[2]?this.semver=new r(x[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(n("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new r(d,this.options)}catch{return!1}return s(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof u))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new a(this.value,p).test(d.semver):(p=i(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||s(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||s(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}g.exports=u;const i=e(33232),{safeRe:h,t:c}=e(75184),s=e(50856),n=e(57676),r=e(27832),a=e(52608)},52608:(g,O,e)=>{class t{constructor(f,C){if(C=h(C),f instanceof t)return f.loose===!!C.loose&&f.includePrerelease===!!C.includePrerelease?f:new t(f.raw,C);if(f instanceof c)return this.raw=f.value,this.set=[[f]],this.format(),this;if(this.options=C,this.loose=!!C.loose,this.includePrerelease=!!C.includePrerelease,this.raw=f.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map($=>this.parseRange($.trim())).filter($=>$.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const $=this.set[0];if(this.set=this.set.filter(E=>!U(E[0])),this.set.length===0)this.set=[$];else if(this.set.length>1){for(const E of this.set)if(E.length===1&&G(E[0])){this.set=[E];break}}}this.format()}format(){return this.range=this.set.map(f=>f.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(f){const $=((this.options.includePrerelease&&x)|(this.options.loose&&P))+":"+f,E=i.get($);if(E)return E;const j=this.options.loose,A=j?r[a.HYPHENRANGELOOSE]:r[a.HYPHENRANGE];f=f.replace(A,V(this.options.includePrerelease)),s("hyphen replace",f),f=f.replace(r[a.COMPARATORTRIM],l),s("comparator trim",f),f=f.replace(r[a.TILDETRIM],d),s("tilde trim",f),f=f.replace(r[a.CARETTRIM],p),s("caret trim",f);let W=f.split(" ").map(X=>K(X,this.options)).join(" ").split(/\s+/).map(X=>ae(X,this.options));j&&(W=W.filter(X=>(s("loose invalid filter",X,this.options),!!X.match(r[a.COMPARATORLOOSE])))),s("range list",W);const I=new Map,b=W.map(X=>new c(X,this.options));for(const X of b){if(U(X))return[X];I.set(X.value,X)}I.size>1&&I.has("")&&I.delete("");const Q=[...I.values()];return i.set($,Q),Q}intersects(f,C){if(!(f instanceof t))throw new TypeError("a Range is required");return this.set.some($=>N($,C)&&f.set.some(E=>N(E,C)&&$.every(j=>E.every(A=>j.intersects(A,C)))))}test(f){if(!f)return!1;if(typeof f=="string")try{f=new n(f,this.options)}catch{return!1}for(let C=0;C<this.set.length;C++)if(ue(this.set[C],f,this.options))return!0;return!1}}g.exports=t;const u=e(10284),i=new u({max:1e3}),h=e(33232),c=e(19544),s=e(57676),n=e(27832),{safeRe:r,t:a,comparatorTrimReplace:l,tildeTrimReplace:d,caretTrimReplace:p}=e(75184),{FLAG_INCLUDE_PRERELEASE:x,FLAG_LOOSE:P}=e(12884),U=m=>m.value==="<0.0.0-0",G=m=>m.value==="",N=(m,f)=>{let C=!0;const $=m.slice();let E=$.pop();for(;C&&$.length;)C=$.every(j=>E.intersects(j,f)),E=$.pop();return C},K=(m,f)=>(s("comp",m,f),m=y(m,f),s("caret",m),m=T(m,f),s("tildes",m),m=M(m,f),s("xrange",m),m=_(m,f),s("stars",m),m),F=m=>!m||m.toLowerCase()==="x"||m==="*",T=(m,f)=>m.trim().split(/\s+/).map(C=>o(C,f)).join(" "),o=(m,f)=>{const C=f.loose?r[a.TILDELOOSE]:r[a.TILDE];return m.replace(C,($,E,j,A,W)=>{s("tilde",m,$,E,j,A,W);let I;return F(E)?I="":F(j)?I=`>=${E}.0.0 <${+E+1}.0.0-0`:F(A)?I=`>=${E}.${j}.0 <${E}.${+j+1}.0-0`:W?(s("replaceTilde pr",W),I=`>=${E}.${j}.${A}-${W} <${E}.${+j+1}.0-0`):I=`>=${E}.${j}.${A} <${E}.${+j+1}.0-0`,s("tilde return",I),I})},y=(m,f)=>m.trim().split(/\s+/).map(C=>v(C,f)).join(" "),v=(m,f)=>{s("caret",m,f);const C=f.loose?r[a.CARETLOOSE]:r[a.CARET],$=f.includePrerelease?"-0":"";return m.replace(C,(E,j,A,W,I)=>{s("caret",m,E,j,A,W,I);let b;return F(j)?b="":F(A)?b=`>=${j}.0.0${$} <${+j+1}.0.0-0`:F(W)?j==="0"?b=`>=${j}.${A}.0${$} <${j}.${+A+1}.0-0`:b=`>=${j}.${A}.0${$} <${+j+1}.0.0-0`:I?(s("replaceCaret pr",I),j==="0"?A==="0"?b=`>=${j}.${A}.${W}-${I} <${j}.${A}.${+W+1}-0`:b=`>=${j}.${A}.${W}-${I} <${j}.${+A+1}.0-0`:b=`>=${j}.${A}.${W}-${I} <${+j+1}.0.0-0`):(s("no pr"),j==="0"?A==="0"?b=`>=${j}.${A}.${W}${$} <${j}.${A}.${+W+1}-0`:b=`>=${j}.${A}.${W}${$} <${j}.${+A+1}.0-0`:b=`>=${j}.${A}.${W} <${+j+1}.0.0-0`),s("caret return",b),b})},M=(m,f)=>(s("replaceXRanges",m,f),m.split(/\s+/).map(C=>S(C,f)).join(" ")),S=(m,f)=>{m=m.trim();const C=f.loose?r[a.XRANGELOOSE]:r[a.XRANGE];return m.replace(C,($,E,j,A,W,I)=>{s("xRange",m,$,E,j,A,W,I);const b=F(j),Q=b||F(A),X=Q||F(W),J=X;return E==="="&&J&&(E=""),I=f.includePrerelease?"-0":"",b?E===">"||E==="<"?$="<0.0.0-0":$="*":E&&J?(Q&&(A=0),W=0,E===">"?(E=">=",Q?(j=+j+1,A=0,W=0):(A=+A+1,W=0)):E==="<="&&(E="<",Q?j=+j+1:A=+A+1),E==="<"&&(I="-0"),$=`${E+j}.${A}.${W}${I}`):Q?$=`>=${j}.0.0${I} <${+j+1}.0.0-0`:X&&($=`>=${j}.${A}.0${I} <${j}.${+A+1}.0-0`),s("xRange return",$),$})},_=(m,f)=>(s("replaceStars",m,f),m.trim().replace(r[a.STAR],"")),ae=(m,f)=>(s("replaceGTE0",m,f),m.trim().replace(r[f.includePrerelease?a.GTE0PRE:a.GTE0],"")),V=m=>(f,C,$,E,j,A,W,I,b,Q,X,J,me)=>(F($)?C="":F(E)?C=`>=${$}.0.0${m?"-0":""}`:F(j)?C=`>=${$}.${E}.0${m?"-0":""}`:A?C=`>=${C}`:C=`>=${C}${m?"-0":""}`,F(b)?I="":F(Q)?I=`<${+b+1}.0.0-0`:F(X)?I=`<${b}.${+Q+1}.0-0`:J?I=`<=${b}.${Q}.${X}-${J}`:m?I=`<${b}.${Q}.${+X+1}-0`:I=`<=${I}`,`${C} ${I}`.trim()),ue=(m,f,C)=>{for(let $=0;$<m.length;$++)if(!m[$].test(f))return!1;if(f.prerelease.length&&!C.includePrerelease){for(let $=0;$<m.length;$++)if(s(m[$].semver),m[$].semver!==c.ANY&&m[$].semver.prerelease.length>0){const E=m[$].semver;if(E.major===f.major&&E.minor===f.minor&&E.patch===f.patch)return!0}return!1}return!0}},92739:(g,O,e)=>{const t=e(14092),u=(i,h)=>{const c=t(i.trim().replace(/^[=v]+/,""),h);return c?c.version:null};g.exports=u},50856:(g,O,e)=>{const t=e(6744),u=e(51628),i=e(60192),h=e(42828),c=e(38768),s=e(13244),n=(r,a,l,d)=>{switch(a){case"===":return typeof r=="object"&&(r=r.version),typeof l=="object"&&(l=l.version),r===l;case"!==":return typeof r=="object"&&(r=r.version),typeof l=="object"&&(l=l.version),r!==l;case"":case"=":case"==":return t(r,l,d);case"!=":return u(r,l,d);case">":return i(r,l,d);case">=":return h(r,l,d);case"<":return c(r,l,d);case"<=":return s(r,l,d);default:throw new TypeError(`Invalid operator: ${a}`)}};g.exports=n},91252:(g,O,e)=>{const t=e(27832),u=e(14092),{safeRe:i,t:h}=e(75184),c=(s,n)=>{if(s instanceof t)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;n=n||{};let r=null;if(!n.rtl)r=s.match(i[h.COERCE]);else{let a;for(;(a=i[h.COERCERTL].exec(s))&&(!r||r.index+r[0].length!==s.length);)(!r||a.index+a[0].length!==r.index+r[0].length)&&(r=a),i[h.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;i[h.COERCERTL].lastIndex=-1}return r===null?null:u(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,n)};g.exports=c},63044:(g,O,e)=>{const t=e(27832),u=(i,h,c)=>{const s=new t(i,c),n=new t(h,c);return s.compare(n)||s.compareBuild(n)};g.exports=u},98272:(g,O,e)=>{const t=e(96084),u=(i,h)=>t(i,h,!0);g.exports=u},15224:(g,O,e)=>{const t=e(14092),u=(i,h)=>{const c=t(i,null,!0),s=t(h,null,!0),n=c.compare(s);if(n===0)return null;const r=n>0,a=r?c:s,l=r?s:c,d=!!a.prerelease.length;if(!!l.prerelease.length&&!d)return!l.patch&&!l.minor?"major":a.patch?"patch":a.minor?"minor":"major";const x=d?"pre":"";return c.major!==s.major?x+"major":c.minor!==s.minor?x+"minor":c.patch!==s.patch?x+"patch":"prerelease"};g.exports=u},6744:(g,O,e)=>{const t=e(96084),u=(i,h,c)=>t(i,h,c)===0;g.exports=u},60192:(g,O,e)=>{const t=e(96084),u=(i,h,c)=>t(i,h,c)>0;g.exports=u},42828:(g,O,e)=>{const t=e(96084),u=(i,h,c)=>t(i,h,c)>=0;g.exports=u},0:(g,O,e)=>{const t=e(27832),u=(i,h,c,s,n)=>{typeof c=="string"&&(n=s,s=c,c=void 0);try{return new t(i instanceof t?i.version:i,c).inc(h,s,n).version}catch{return null}};g.exports=u},13244:(g,O,e)=>{const t=e(96084),u=(i,h,c)=>t(i,h,c)<=0;g.exports=u},61464:(g,O,e)=>{const t=e(27832),u=(i,h)=>new t(i,h).major;g.exports=u},13720:(g,O,e)=>{const t=e(27832),u=(i,h)=>new t(i,h).minor;g.exports=u},51628:(g,O,e)=>{const t=e(96084),u=(i,h,c)=>t(i,h,c)!==0;g.exports=u},34800:(g,O,e)=>{const t=e(27832),u=(i,h)=>new t(i,h).patch;g.exports=u},33088:(g,O,e)=>{const t=e(14092),u=(i,h)=>{const c=t(i,h);return c&&c.prerelease.length?c.prerelease:null};g.exports=u},34692:(g,O,e)=>{const t=e(96084),u=(i,h,c)=>t(h,i,c);g.exports=u},14668:(g,O,e)=>{const t=e(63044),u=(i,h)=>i.sort((c,s)=>t(s,c,h));g.exports=u},16293:(g,O,e)=>{const t=e(52608),u=(i,h,c)=>{try{h=new t(h,c)}catch{return!1}return h.test(i)};g.exports=u},76396:(g,O,e)=>{const t=e(63044),u=(i,h)=>i.sort((c,s)=>t(c,s,h));g.exports=u},57544:(g,O,e)=>{const t=e(75184),u=e(12884),i=e(27832),h=e(18956),c=e(14092),s=e(79904),n=e(92739),r=e(0),a=e(15224),l=e(61464),d=e(13720),p=e(34800),x=e(33088),P=e(96084),U=e(34692),G=e(98272),N=e(63044),K=e(76396),F=e(14668),T=e(60192),o=e(38768),y=e(6744),v=e(51628),M=e(42828),S=e(13244),_=e(50856),ae=e(91252),V=e(19544),ue=e(52608),m=e(16293),f=e(92904),C=e(79932),$=e(31107),E=e(77864),j=e(21992),A=e(40648),W=e(30536),I=e(18872),b=e(52896),Q=e(14700),X=e(41536);g.exports={parse:c,valid:s,clean:n,inc:r,diff:a,major:l,minor:d,patch:p,prerelease:x,compare:P,rcompare:U,compareLoose:G,compareBuild:N,sort:K,rsort:F,gt:T,lt:o,eq:y,neq:v,gte:M,lte:S,cmp:_,coerce:ae,Comparator:V,Range:ue,satisfies:m,toComparators:f,maxSatisfying:C,minSatisfying:$,minVersion:E,validRange:j,outside:A,gtr:W,ltr:I,intersects:b,simplifyRange:Q,subset:X,SemVer:i,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:u.SEMVER_SPEC_VERSION,RELEASE_TYPES:u.RELEASE_TYPES,compareIdentifiers:h.compareIdentifiers,rcompareIdentifiers:h.rcompareIdentifiers}},30536:(g,O,e)=>{const t=e(40648),u=(i,h,c)=>t(i,h,">",c);g.exports=u},52896:(g,O,e)=>{const t=e(52608),u=(i,h,c)=>(i=new t(i,c),h=new t(h,c),i.intersects(h,c));g.exports=u},18872:(g,O,e)=>{const t=e(40648),u=(i,h,c)=>t(i,h,"<",c);g.exports=u},79932:(g,O,e)=>{const t=e(27832),u=e(52608),i=(h,c,s)=>{let n=null,r=null,a=null;try{a=new u(c,s)}catch{return null}return h.forEach(l=>{a.test(l)&&(!n||r.compare(l)===-1)&&(n=l,r=new t(n,s))}),n};g.exports=i},31107:(g,O,e)=>{const t=e(27832),u=e(52608),i=(h,c,s)=>{let n=null,r=null,a=null;try{a=new u(c,s)}catch{return null}return h.forEach(l=>{a.test(l)&&(!n||r.compare(l)===1)&&(n=l,r=new t(n,s))}),n};g.exports=i},77864:(g,O,e)=>{const t=e(27832),u=e(52608),i=e(60192),h=(c,s)=>{c=new u(c,s);let n=new t("0.0.0");if(c.test(n)||(n=new t("0.0.0-0"),c.test(n)))return n;n=null;for(let r=0;r<c.set.length;++r){const a=c.set[r];let l=null;a.forEach(d=>{const p=new t(d.semver.version);switch(d.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!l||i(p,l))&&(l=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),l&&(!n||i(n,l))&&(n=l)}return n&&c.test(n)?n:null};g.exports=h},40648:(g,O,e)=>{const t=e(27832),u=e(19544),{ANY:i}=u,h=e(52608),c=e(16293),s=e(60192),n=e(38768),r=e(13244),a=e(42828),l=(d,p,x,P)=>{d=new t(d,P),p=new h(p,P);let U,G,N,K,F;switch(x){case">":U=s,G=r,N=n,K=">",F=">=";break;case"<":U=n,G=a,N=s,K="<",F="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(d,p,P))return!1;for(let T=0;T<p.set.length;++T){const o=p.set[T];let y=null,v=null;if(o.forEach(M=>{M.semver===i&&(M=new u(">=0.0.0")),y=y||M,v=v||M,U(M.semver,y.semver,P)?y=M:N(M.semver,v.semver,P)&&(v=M)}),y.operator===K||y.operator===F||(!v.operator||v.operator===K)&&G(d,v.semver))return!1;if(v.operator===F&&N(d,v.semver))return!1}return!0};g.exports=l},14700:(g,O,e)=>{const t=e(16293),u=e(96084);g.exports=(i,h,c)=>{const s=[];let n=null,r=null;const a=i.sort((x,P)=>u(x,P,c));for(const x of a)t(x,h,c)?(r=x,n||(n=x)):(r&&s.push([n,r]),r=null,n=null);n&&s.push([n,null]);const l=[];for(const[x,P]of s)x===P?l.push(x):!P&&x===a[0]?l.push("*"):P?x===a[0]?l.push(`<=${P}`):l.push(`${x} - ${P}`):l.push(`>=${x}`);const d=l.join(" || "),p=typeof h.raw=="string"?h.raw:String(h);return d.length<p.length?d:h}},41536:(g,O,e)=>{const t=e(52608),u=e(19544),{ANY:i}=u,h=e(16293),c=e(96084),s=(p,x,P={})=>{if(p===x)return!0;p=new t(p,P),x=new t(x,P);let U=!1;e:for(const G of p.set){for(const N of x.set){const K=a(G,N,P);if(U=U||K!==null,K)continue e}if(U)return!1}return!0},n=[new u(">=0.0.0-0")],r=[new u(">=0.0.0")],a=(p,x,P)=>{if(p===x)return!0;if(p.length===1&&p[0].semver===i){if(x.length===1&&x[0].semver===i)return!0;P.includePrerelease?p=n:p=r}if(x.length===1&&x[0].semver===i){if(P.includePrerelease)return!0;x=r}const U=new Set;let G,N;for(const S of p)S.operator===">"||S.operator===">="?G=l(G,S,P):S.operator==="<"||S.operator==="<="?N=d(N,S,P):U.add(S.semver);if(U.size>1)return null;let K;if(G&&N){if(K=c(G.semver,N.semver,P),K>0)return null;if(K===0&&(G.operator!==">="||N.operator!=="<="))return null}for(const S of U){if(G&&!h(S,String(G),P)||N&&!h(S,String(N),P))return null;for(const _ of x)if(!h(S,String(_),P))return!1;return!0}let F,T,o,y,v=N&&!P.includePrerelease&&N.semver.prerelease.length?N.semver:!1,M=G&&!P.includePrerelease&&G.semver.prerelease.length?G.semver:!1;v&&v.prerelease.length===1&&N.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const S of x){if(y=y||S.operator===">"||S.operator===">=",o=o||S.operator==="<"||S.operator==="<=",G){if(M&&S.semver.prerelease&&S.semver.prerelease.length&&S.semver.major===M.major&&S.semver.minor===M.minor&&S.semver.patch===M.patch&&(M=!1),S.operator===">"||S.operator===">="){if(F=l(G,S,P),F===S&&F!==G)return!1}else if(G.operator===">="&&!h(G.semver,String(S),P))return!1}if(N){if(v&&S.semver.prerelease&&S.semver.prerelease.length&&S.semver.major===v.major&&S.semver.minor===v.minor&&S.semver.patch===v.patch&&(v=!1),S.operator==="<"||S.operator==="<="){if(T=d(N,S,P),T===S&&T!==N)return!1}else if(N.operator==="<="&&!h(N.semver,String(S),P))return!1}if(!S.operator&&(N||G)&&K!==0)return!1}return!(G&&o&&!N&&K!==0||N&&y&&!G&&K!==0||M||v)},l=(p,x,P)=>{if(!p)return x;const U=c(p.semver,x.semver,P);return U>0?p:U<0||x.operator===">"&&p.operator===">="?x:p},d=(p,x,P)=>{if(!p)return x;const U=c(p.semver,x.semver,P);return U<0?p:U>0||x.operator==="<"&&p.operator==="<="?x:p};g.exports=s},92904:(g,O,e)=>{const t=e(52608),u=(i,h)=>new t(i,h).set.map(c=>c.map(s=>s.value).join(" ").trim().split(" "));g.exports=u},21992:(g,O,e)=>{const t=e(52608),u=(i,h)=>{try{return new t(i,h).range||"*"}catch{return null}};g.exports=u},10284:(g,O,e)=>{"use strict";const t=e(97092),u=Symbol("max"),i=Symbol("length"),h=Symbol("lengthCalculator"),c=Symbol("allowStale"),s=Symbol("maxAge"),n=Symbol("dispose"),r=Symbol("noDisposeOnSet"),a=Symbol("lruList"),l=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1;class x{constructor(o){if(typeof o=="number"&&(o={max:o}),o||(o={}),o.max&&(typeof o.max!="number"||o.max<0))throw new TypeError("max must be a non-negative number");const y=this[u]=o.max||1/0,v=o.length||p;if(this[h]=typeof v!="function"?p:v,this[c]=o.stale||!1,o.maxAge&&typeof o.maxAge!="number")throw new TypeError("maxAge must be a number");this[s]=o.maxAge||0,this[n]=o.dispose,this[r]=o.noDisposeOnSet||!1,this[d]=o.updateAgeOnGet||!1,this.reset()}set max(o){if(typeof o!="number"||o<0)throw new TypeError("max must be a non-negative number");this[u]=o||1/0,G(this)}get max(){return this[u]}set allowStale(o){this[c]=!!o}get allowStale(){return this[c]}set maxAge(o){if(typeof o!="number")throw new TypeError("maxAge must be a non-negative number");this[s]=o,G(this)}get maxAge(){return this[s]}set lengthCalculator(o){typeof o!="function"&&(o=p),o!==this[h]&&(this[h]=o,this[i]=0,this[a].forEach(y=>{y.length=this[h](y.value,y.key),this[i]+=y.length})),G(this)}get lengthCalculator(){return this[h]}get length(){return this[i]}get itemCount(){return this[a].length}rforEach(o,y){y=y||this;for(let v=this[a].tail;v!==null;){const M=v.prev;F(this,o,v,y),v=M}}forEach(o,y){y=y||this;for(let v=this[a].head;v!==null;){const M=v.next;F(this,o,v,y),v=M}}keys(){return this[a].toArray().map(o=>o.key)}values(){return this[a].toArray().map(o=>o.value)}reset(){this[n]&&this[a]&&this[a].length&&this[a].forEach(o=>this[n](o.key,o.value)),this[l]=new Map,this[a]=new t,this[i]=0}dump(){return this[a].map(o=>U(this,o)?!1:{k:o.key,v:o.value,e:o.now+(o.maxAge||0)}).toArray().filter(o=>o)}dumpLru(){return this[a]}set(o,y,v){if(v=v||this[s],v&&typeof v!="number")throw new TypeError("maxAge must be a number");const M=v?Date.now():0,S=this[h](y,o);if(this[l].has(o)){if(S>this[u])return N(this,this[l].get(o)),!1;const V=this[l].get(o).value;return this[n]&&(this[r]||this[n](o,V.value)),V.now=M,V.maxAge=v,V.value=y,this[i]+=S-V.length,V.length=S,this.get(o),G(this),!0}const _=new K(o,y,S,M,v);return _.length>this[u]?(this[n]&&this[n](o,y),!1):(this[i]+=_.length,this[a].unshift(_),this[l].set(o,this[a].head),G(this),!0)}has(o){if(!this[l].has(o))return!1;const y=this[l].get(o).value;return!U(this,y)}get(o){return P(this,o,!0)}peek(o){return P(this,o,!1)}pop(){const o=this[a].tail;return o?(N(this,o),o.value):null}del(o){N(this,this[l].get(o))}load(o){this.reset();const y=Date.now();for(let v=o.length-1;v>=0;v--){const M=o[v],S=M.e||0;if(S===0)this.set(M.k,M.v);else{const _=S-y;_>0&&this.set(M.k,M.v,_)}}}prune(){this[l].forEach((o,y)=>P(this,y,!1))}}const P=(T,o,y)=>{const v=T[l].get(o);if(v){const M=v.value;if(U(T,M)){if(N(T,v),!T[c])return}else y&&(T[d]&&(v.value.now=Date.now()),T[a].unshiftNode(v));return M.value}},U=(T,o)=>{if(!o||!o.maxAge&&!T[s])return!1;const y=Date.now()-o.now;return o.maxAge?y>o.maxAge:T[s]&&y>T[s]},G=T=>{if(T[i]>T[u])for(let o=T[a].tail;T[i]>T[u]&&o!==null;){const y=o.prev;N(T,o),o=y}},N=(T,o)=>{if(o){const y=o.value;T[n]&&T[n](y.key,y.value),T[i]-=y.length,T[l].delete(y.key),T[a].removeNode(o)}};class K{constructor(o,y,v,M,S){this.key=o,this.value=y,this.length=v,this.now=M,this.maxAge=S||0}}const F=(T,o,y,v)=>{let M=y.value;U(T,M)&&(N(T,y),T[c]||(M=void 0)),M&&o.call(v,M.value,M.key,T)};g.exports=x},72868:g=>{"use strict";g.exports=function(O){O.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},97092:(g,O,e)=>{"use strict";g.exports=t,t.Node=c,t.create=t;function t(s){var n=this;if(n instanceof t||(n=new t),n.tail=null,n.head=null,n.length=0,s&&typeof s.forEach=="function")s.forEach(function(l){n.push(l)});else if(arguments.length>0)for(var r=0,a=arguments.length;r<a;r++)n.push(arguments[r]);return n}t.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var n=s.next,r=s.prev;return n&&(n.prev=r),r&&(r.next=n),s===this.head&&(this.head=n),s===this.tail&&(this.tail=r),s.list.length--,s.next=null,s.prev=null,s.list=null,n},t.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var n=this.head;s.list=this,s.next=n,n&&(n.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}},t.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var n=this.tail;s.list=this,s.prev=n,n&&(n.next=s),this.tail=s,this.head||(this.head=s),this.length++}},t.prototype.push=function(){for(var s=0,n=arguments.length;s<n;s++)i(this,arguments[s]);return this.length},t.prototype.unshift=function(){for(var s=0,n=arguments.length;s<n;s++)h(this,arguments[s]);return this.length},t.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}},t.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}},t.prototype.forEach=function(s,n){n=n||this;for(var r=this.head,a=0;r!==null;a++)s.call(n,r.value,a,this),r=r.next},t.prototype.forEachReverse=function(s,n){n=n||this;for(var r=this.tail,a=this.length-1;r!==null;a--)s.call(n,r.value,a,this),r=r.prev},t.prototype.get=function(s){for(var n=0,r=this.head;r!==null&&n<s;n++)r=r.next;if(n===s&&r!==null)return r.value},t.prototype.getReverse=function(s){for(var n=0,r=this.tail;r!==null&&n<s;n++)r=r.prev;if(n===s&&r!==null)return r.value},t.prototype.map=function(s,n){n=n||this;for(var r=new t,a=this.head;a!==null;)r.push(s.call(n,a.value,this)),a=a.next;return r},t.prototype.mapReverse=function(s,n){n=n||this;for(var r=new t,a=this.tail;a!==null;)r.push(s.call(n,a.value,this)),a=a.prev;return r},t.prototype.reduce=function(s,n){var r,a=this.head;if(arguments.length>1)r=n;else if(this.head)a=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=0;a!==null;l++)r=s(r,a.value,l),a=a.next;return r},t.prototype.reduceReverse=function(s,n){var r,a=this.tail;if(arguments.length>1)r=n;else if(this.tail)a=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=this.length-1;a!==null;l--)r=s(r,a.value,l),a=a.prev;return r},t.prototype.toArray=function(){for(var s=new Array(this.length),n=0,r=this.head;r!==null;n++)s[n]=r.value,r=r.next;return s},t.prototype.toArrayReverse=function(){for(var s=new Array(this.length),n=0,r=this.tail;r!==null;n++)s[n]=r.value,r=r.prev;return s},t.prototype.slice=function(s,n){n=n||this.length,n<0&&(n+=this.length),s=s||0,s<0&&(s+=this.length);var r=new t;if(n<s||n<0)return r;s<0&&(s=0),n>this.length&&(n=this.length);for(var a=0,l=this.head;l!==null&&a<s;a++)l=l.next;for(;l!==null&&a<n;a++,l=l.next)r.push(l.value);return r},t.prototype.sliceReverse=function(s,n){n=n||this.length,n<0&&(n+=this.length),s=s||0,s<0&&(s+=this.length);var r=new t;if(n<s||n<0)return r;s<0&&(s=0),n>this.length&&(n=this.length);for(var a=this.length,l=this.tail;l!==null&&a>n;a--)l=l.prev;for(;l!==null&&a>s;a--,l=l.prev)r.push(l.value);return r},t.prototype.splice=function(s,n,...r){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var a=0,l=this.head;l!==null&&a<s;a++)l=l.next;for(var d=[],a=0;l&&a<n;a++)d.push(l.value),l=this.removeNode(l);l===null&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(var a=0;a<r.length;a++)l=u(this,l,r[a]);return d},t.prototype.reverse=function(){for(var s=this.head,n=this.tail,r=s;r!==null;r=r.prev){var a=r.prev;r.prev=r.next,r.next=a}return this.head=n,this.tail=s,this};function u(s,n,r){var a=n===s.head?new c(r,null,n,s):new c(r,n,n.next,s);return a.next===null&&(s.tail=a),a.prev===null&&(s.head=a),s.length++,a}function i(s,n){s.tail=new c(n,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function h(s,n){s.head=new c(n,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function c(s,n,r,a){if(!(this instanceof c))return new c(s,n,r,a);this.list=a,this.value=s,n?(n.next=this,this.prev=n):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{e(72868)(t)}catch{}},14156:(g,O,e)=>{"use strict";e.r(O),e.d(O,{MarketplacePage:()=>Te,ProtectedMarketplacePage:()=>Ze});var t=e(19968),u=e(62552),i=e(5e3),h=e(14448),c=e(15860),s=e(35676),n=e(48936),r=e(5928),a=e(63358),l=e(70544),d=e(55716),p=e(6912),x=e(89296),P=e(3704);const U=P.default.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: ${({theme:R})=>R.spaces[4]};
`;var G=e(28724),N=e(70996),K=e(28464),F=e(20596),T=e(48112),o=e(56104),y=e(3400),v=e(42816),M=e(6496),S=e(53804),_=e(86400),ae=e(80700),V=e(59232),ue=e(60012),m=e(39716),f=e(36133),C=e(73648),$=e(53305),E=e(32680),j=e(10328),A=e(59512),W=e(41892),I=e(79848),b=e(37540),Q=e(36136),X=e(21424),J=e(14632),me=e(70516),ve=e(4400),Le=e(72704),xe=e(26272),Oe=e(61397),ye=e(57544),je=e(12132),Se=e(48632),qe=e(54320),_e=e(5240),et=e(91892),tt=e(36196),st=e(20880),nt=e(31812),rt=e(18424),at=e(52540),it=e(21968),ot=e(85676),lt=e(35184),ct=e(99568),ht=e(96556),ut=e(13192),dt=e(30840),ft=e(77784),gt=e(79371),pt=e(67888),mt=e(52600),vt=e(95752),xt=e(37388),yt=e(61840),jt=e(49108),St=e(44632),Pt=e(50840),$t=e(20252),Et=e(86432),Ct=e(22612),Rt=e(24808),Tt=e(24024),Mt=e(40960),At=e(33656),Lt=e(43280),Ot=e(79804),Nt=e(19632),It=e(29576),Gt=e(61152),Dt=e(9589),wt=e(45488),Vt=e(75516),Bt=e(38768),Ft=e(79904);const Ne=({handleSelectClear:R,handleSelectChange:L,npmPackageType:D,possibleCategories:z,possibleCollections:B,query:Y})=>{const[w,Z]=u.useState(!1),te=u.useRef(null),{formatMessage:k}=(0,J.c)(),q=()=>Z(H=>!H),ee=(H,se)=>{const oe={[se]:(Y[se]??[]).filter(le=>le!==H)};L(oe)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.k,{paddingTop:1,paddingBottom:1,children:[(0,t.jsx)(Ie,{variant:"tertiary",ref:te,startIcon:(0,t.jsx)(ue.c,{}),onClick:q,size:"S",children:k({id:"app.utils.filters",defaultMessage:"Filters"})}),w&&(0,t.jsx)(h._k,{source:te,onDismiss:q,padding:3,spacing:4,children:(0,t.jsxs)(Ge,{direction:"column",alignItems:"stretch",gap:1,children:[(0,t.jsx)(Pe,{message:k({id:"admin.pages.MarketPlacePage.filters.collections",defaultMessage:"Collections"}),value:Y?.collections||[],onChange:H=>{L({collections:H})},onClear:()=>R("collections"),possibleFilters:B,customizeContent:H=>k({id:"admin.pages.MarketPlacePage.filters.collectionsSelected",defaultMessage:"{count, plural, =0 {No collections} one {# collection} other {# collections}} selected"},{count:H?.length??0})}),D==="plugin"&&(0,t.jsx)(Pe,{message:k({id:"admin.pages.MarketPlacePage.filters.categories",defaultMessage:"Categories"}),value:Y?.categories||[],onChange:H=>{L({categories:H})},onClear:()=>R("categories"),possibleFilters:z,customizeContent:H=>k({id:"admin.pages.MarketPlacePage.filters.categoriesSelected",defaultMessage:"{count, plural, =0 {No categories} one {# category} other {# categories}} selected"},{count:H?.length??0})})]})})]}),Y.collections?.map(H=>(0,t.jsx)(i.k,{padding:1,children:(0,t.jsx)(c.E,{icon:(0,t.jsx)(m.c,{}),onClick:()=>ee(H,"collections"),children:H})},H)),D==="plugin"&&Y.categories?.map(H=>(0,t.jsx)(i.k,{padding:1,children:(0,t.jsx)(c.E,{icon:(0,t.jsx)(m.c,{}),onClick:()=>ee(H,"categories"),children:H})},H))]})},Ie=(0,P.default)(s.Z)`
  height: ${({theme:R})=>R.sizes.input.S};
`,Ge=(0,P.default)(n.C)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,Pe=({message:R,value:L,onChange:D,possibleFilters:z,onClear:B,customizeContent:Y})=>(0,t.jsx)(r.e,{"data-testid":`${R}-button`,label:R,placeholder:R,size:"M",onChange:D,onClear:B,value:L,customizeContent:Y,children:Object.entries(z).map(([w,Z])=>(0,t.jsx)(r.eI,{"data-testid":`${w}-${Z}`,value:w,children:`${w} (${Z})`},w))}),De=(0,P.default)(a.O)`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
`,we=({npmPackage:R,isInstalled:L,useYarn:D,isInDevelopmentMode:z,npmPackageType:B,strapiAppVersion:Y})=>{const{attributes:w}=R,{formatMessage:Z}=(0,J.c)(),{trackUsage:te}=(0,V.m4)(),k=D?`yarn add ${w.npmPackageName}`:`npm install ${w.npmPackageName}`,q=Z({id:"admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",defaultMessage:"Made by Strapi"}),ee=`https://market.strapi.io/${Oe.plural(B)}/${w.slug}`;return(0,t.jsxs)(n.C,{direction:"column",justifyContent:"space-between",paddingTop:4,paddingRight:4,paddingBottom:4,paddingLeft:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",height:"100%",alignItems:"normal","data-testid":"npm-package-card",children:[(0,t.jsxs)(i.k,{children:[(0,t.jsxs)(n.C,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,t.jsx)(i.k,{as:"img",src:w.logo.url,alt:`${w.name} logo`,hasRadius:!0,width:11,height:11}),(0,t.jsx)(Fe,{githubStars:w.githubStars,npmDownloads:w.npmDownloads,npmPackageType:B})]}),(0,t.jsx)(i.k,{paddingTop:4,children:(0,t.jsx)(a.O,{as:"h3",variant:"delta",children:(0,t.jsxs)(n.C,{alignItems:"center",children:[w.name,w.validated&&!w.madeByStrapi&&(0,t.jsx)(l.o,{description:Z({id:"admin.pages.MarketPlacePage.plugin.tooltip.verified",defaultMessage:"Plugin verified by Strapi"}),children:(0,t.jsx)(n.C,{children:(0,t.jsx)(d.G,{as:f.c,marginLeft:2,color:"success600"})})}),w.madeByStrapi&&(0,t.jsx)(l.o,{description:q,children:(0,t.jsx)(n.C,{children:(0,t.jsx)(i.k,{as:"img",src:ve.S,alt:q,marginLeft:1,width:6,height:"auto"})})})]})})}),(0,t.jsx)(i.k,{paddingTop:2,children:(0,t.jsx)(De,{as:"p",variant:"omega",textColor:"neutral600",children:w.description})})]}),(0,t.jsxs)(n.C,{gap:2,style:{alignSelf:"flex-end"},paddingTop:6,children:[(0,t.jsx)(xe.E,{size:"S",href:ee,isExternal:!0,endIcon:(0,t.jsx)(C.c,{}),"aria-label":Z({id:"admin.pages.MarketPlacePage.plugin.info.label",defaultMessage:"Learn more about {pluginName}"},{pluginName:w.name}),variant:"tertiary",onClick:()=>te("didPluginLearnMore"),children:Z({id:"admin.pages.MarketPlacePage.plugin.info.text",defaultMessage:"More"})}),(0,t.jsx)(Ve,{isInstalled:L,isInDevelopmentMode:z,commandToCopy:k,strapiAppVersion:Y,strapiPeerDepVersion:w.strapiVersion,pluginName:w.name})]})]})},Ve=({isInstalled:R,isInDevelopmentMode:L,commandToCopy:D,strapiAppVersion:z,strapiPeerDepVersion:B,pluginName:Y})=>{const w=(0,V.eo)(),{formatMessage:Z}=(0,J.c)(),{trackUsage:te}=(0,V.m4)(),{copy:k}=(0,V.UC)(),q=async()=>{await k(D)&&(te("willInstallPlugin"),w({type:"success",message:{id:"admin.pages.MarketPlacePage.plugin.copy.success"}}))};return R?(0,t.jsxs)(i.k,{paddingLeft:4,children:[(0,t.jsx)(d.G,{as:$.c,marginRight:2,width:12,height:12,color:"success600"}),(0,t.jsx)(a.O,{variant:"omega",textColor:"success600",fontWeight:"bold",children:Z({id:"admin.pages.MarketPlacePage.plugin.installed",defaultMessage:"Installed"})})]}):L?(0,t.jsx)(Be,{strapiAppVersion:z,strapiPeerDepVersion:B,handleCopy:q,pluginName:Y}):null},Be=({strapiPeerDepVersion:R,strapiAppVersion:L,handleCopy:D,pluginName:z})=>{const{formatMessage:B}=(0,J.c)(),Y=ye.validRange(R),w=ye.satisfies(L??"",Y??""),Z=B({id:"admin.pages.MarketPlacePage.plugin.copy",defaultMessage:"Copy install command"});return L&&(!Y||!w)?(0,t.jsx)(l.o,{"data-testid":`tooltip-${z}`,description:Y?B({id:"admin.pages.MarketPlacePage.plugin.version",defaultMessage:'Update your Strapi version: "{strapiAppVersion}" to: "{versionRange}"'},{strapiAppVersion:L,versionRange:Y}):B({id:"admin.pages.MarketPlacePage.plugin.version.null",defaultMessage:'Unable to verify compatibility with your Strapi version: "{strapiAppVersion}"'},{strapiAppVersion:L}),children:(0,t.jsx)(s.Z,{size:"S",startIcon:(0,t.jsx)(E.c,{}),variant:"secondary",onClick:D,disabled:!w,children:Z})}):(0,t.jsx)(s.Z,{size:"S",startIcon:(0,t.jsx)(E.c,{}),variant:"secondary",onClick:D,children:Z})},Fe=({githubStars:R=0,npmDownloads:L=0,npmPackageType:D})=>{const{formatMessage:z}=(0,J.c)();return(0,t.jsxs)(n.C,{gap:1,children:[!!R&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.G,{as:j.c,height:(0,V.W8)(12),width:(0,V.W8)(12),"aria-hidden":!0}),(0,t.jsx)(d.G,{as:A.c,height:(0,V.W8)(12),width:(0,V.W8)(12),color:"warning500","aria-hidden":!0}),(0,t.jsx)("p",{"aria-label":z({id:`admin.pages.MarketPlacePage.${D}.githubStars`,defaultMessage:"This {package} was starred {starsCount} on GitHub"},{starsCount:R,package:D}),children:(0,t.jsx)(a.O,{variant:"pi",textColor:"neutral800",children:R})}),(0,t.jsx)(We,{unsetMargin:!1})]}),(0,t.jsx)(d.G,{as:W.c,height:(0,V.W8)(12),width:(0,V.W8)(12),"aria-hidden":!0}),(0,t.jsx)("p",{"aria-label":z({id:`admin.pages.MarketPlacePage.${D}.downloads`,defaultMessage:"This {package} has {downloadsCount} weekly downloads"},{downloadsCount:L,package:D}),children:(0,t.jsx)(a.O,{variant:"pi",textColor:"neutral800",children:L})})]})},We=(0,P.default)(p.c)`
  width: ${(0,V.W8)(12)};
  transform: rotate(90deg);
`,$e=({status:R,npmPackages:L=[],installedPackageNames:D=[],useYarn:z,isInDevelopmentMode:B,npmPackageType:Y,strapiAppVersion:w,debouncedSearch:Z})=>{const{formatMessage:te}=(0,J.c)();if(R==="error")return(0,t.jsx)(n.C,{paddingTop:8,children:(0,t.jsx)(V.wF,{})});if(R==="loading")return(0,t.jsx)(n.C,{justifyContent:"center",paddingTop:8,children:(0,t.jsx)(x.c,{children:"Loading content..."})});const k=te({id:"admin.pages.MarketPlacePage.search.empty",defaultMessage:'No result for "{target}"'},{target:Z});return L.length===0?(0,t.jsxs)(i.k,{position:"relative",children:[(0,t.jsx)(U,{children:Array(12).fill(null).map((q,ee)=>(0,t.jsx)(He,{height:"234px",hasRadius:!0},ee))}),(0,t.jsx)(i.k,{position:"absolute",top:11,width:"100%",children:(0,t.jsxs)(n.C,{alignItems:"center",justifyContent:"center",direction:"column",children:[(0,t.jsx)(d.G,{as:I.c,color:void 0,width:"160px",height:"88px"}),(0,t.jsx)(i.k,{paddingTop:6,children:(0,t.jsx)(a.O,{variant:"delta",as:"p",textColor:"neutral600",children:k})})]})})]}):(0,t.jsx)(G.y,{gap:4,children:L.map(q=>(0,t.jsx)(N.C,{col:4,s:6,xs:12,style:{height:"100%"},children:(0,t.jsx)(we,{npmPackage:q,isInstalled:D.includes(q.attributes.npmPackageName),useYarn:z,isInDevelopmentMode:B,npmPackageType:Y,strapiAppVersion:w})},q.id))})},He=(0,P.default)(i.k)`
  background: ${({theme:R})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${R.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Ee=({isOnline:R,npmPackageType:L="plugin"})=>{const{formatMessage:D}=(0,J.c)(),{trackUsage:z}=(0,V.m4)(),B=L==="provider"?"didSubmitProvider":"didSubmitPlugin";return(0,t.jsx)(K.a,{title:D({id:"global.marketplace",defaultMessage:"Marketplace"}),subtitle:D({id:"admin.pages.MarketPlacePage.subtitle",defaultMessage:"Get more out of Strapi"}),primaryAction:R&&(0,t.jsx)(xe.E,{startIcon:(0,t.jsx)(b.c,{}),variant:"tertiary",href:`https://market.strapi.io/submit-${L}`,onClick:()=>z(B),isExternal:!0,children:D({id:`admin.pages.MarketPlacePage.submit.${L}.link`,defaultMessage:`Submit ${L}`})})})},ze=()=>{const{formatMessage:R}=(0,J.c)();return(0,t.jsx)(F._,{children:(0,t.jsxs)(T.G,{children:[(0,t.jsx)(Ee,{}),(0,t.jsxs)(n.C,{width:"100%",direction:"column",alignItems:"center",justifyContent:"center",paddingTop:(0,V.W8)(120),children:[(0,t.jsx)(i.k,{paddingBottom:2,children:(0,t.jsx)(a.O,{textColor:"neutral700",variant:"alpha",children:R({id:"admin.pages.MarketPlacePage.offline.title",defaultMessage:"You are offline"})})}),(0,t.jsx)(i.k,{paddingBottom:6,children:(0,t.jsx)(a.O,{textColor:"neutral700",variant:"epsilon",children:R({id:"admin.pages.MarketPlacePage.offline.subtitle",defaultMessage:"You need to be connected to the Internet to access Strapi Market."})})}),(0,t.jsxs)("svg",{width:"88",height:"88",viewBox:"0 0 88 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("rect",{x:".5",y:".5",width:"87",height:"87",rx:"43.5",fill:"#F0F0FF"}),(0,t.jsx)("path",{d:"M34 39.3h-4c-2.6 0-4.7 1-6.6 2.8a9 9 0 0 0-2.7 6.6 9 9 0 0 0 2.7 6.6A9 9 0 0 0 30 58h22.8L34 39.3Zm-11-11 3-3 39 39-3 3-4.7-4.6H30a13.8 13.8 0 0 1-14-14c0-3.8 1.3-7 4-9.7 2.6-2.7 5.7-4.2 9.5-4.3L23 28.2Zm38.2 11.1c3 .2 5.5 1.5 7.6 3.7A11 11 0 0 1 72 51c0 4-1.6 7.2-5 9.5l-3.3-3.4a6.5 6.5 0 0 0 3.6-6.1c0-1.9-.7-3.5-2-5-1.5-1.3-3.1-2-5-2h-3.5v-1.2c0-3.6-1.2-6.6-3.7-9a13 13 0 0 0-15-2.3L34.6 28a17 17 0 0 1 20.3 1.5c3.5 2.7 5.5 6 6.3 10Z",fill:"#4945FF"}),(0,t.jsx)("rect",{x:".5",y:".5",width:"87",height:"87",rx:"43.5",stroke:"#D9D8FF"})]})]})]})})},Ce={"name:asc":{selected:{id:"admin.pages.MarketPlacePage.sort.alphabetical.selected",defaultMessage:"Sort by alphabetical order"},option:{id:"admin.pages.MarketPlacePage.sort.alphabetical",defaultMessage:"Alphabetical order"}},"submissionDate:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.newest.selected",defaultMessage:"Sort by newest"},option:{id:"admin.pages.MarketPlacePage.sort.newest",defaultMessage:"Newest"}},"githubStars:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.githubStars.selected",defaultMessage:"Sort by GitHub stars"},option:{id:"admin.pages.MarketPlacePage.sort.githubStars",defaultMessage:"Number of GitHub stars"}},"npmDownloads:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.npmDownloads.selected",defaultMessage:"Sort by npm downloads"},option:{id:"admin.pages.MarketPlacePage.sort.npmDownloads",defaultMessage:"Number of downloads"}}},Ue=({sortQuery:R,handleSelectChange:L})=>{const{formatMessage:D}=(0,J.c)();return(0,t.jsx)(Ye,{children:(0,t.jsx)(o.K_,{size:"S",id:"sort-by-select",value:R,customizeContent:()=>D(Ce[R].selected),onChange:z=>{L({sort:z})},label:D({id:"admin.pages.MarketPlacePage.sort.label",defaultMessage:"Sort by"}),children:Object.entries(Ce).map(([z,B])=>(0,t.jsx)(o.kH,{value:z,children:D(B.option)},z))})})},Ye=(0,P.default)(i.k)`
  font-weight: ${({theme:R})=>R.fontWeights.semiBold};

  span {
    font-size: ${({theme:R})=>R.fontSizes[1]};
  }

  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,Re="https://market-api.strapi.io";function be({npmPackageType:R,debouncedSearch:L,query:D,tabQuery:z}){const{notifyStatus:B}=(0,y.O)(),{formatMessage:Y}=(0,J.c)(),w=(0,V.eo)(),Z=Y({id:"global.marketplace",defaultMessage:"Marketplace"}),te=()=>{B(Y({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:Z}))},k={page:D?.page||1,pageSize:D?.pageSize||24},q={...z.plugin,pagination:k,search:L},{data:ee,status:H}=(0,Se.useQuery)(["marketplace","plugins",q],async()=>{try{const he=je.stringify(q),ie=await fetch(`${Re}/plugins?${he}`);if(!ie.ok)throw new Error("Failed to fetch marketplace plugins.");return await ie.json()}catch{}return null},{onSuccess(){te()},onError(){w({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),se={...z.provider,pagination:k,search:L},{data:oe,status:le}=(0,Se.useQuery)(["marketplace","providers",se],async()=>{const he=je.stringify(se),ie=await fetch(`${Re}/providers?${he}`);if(!ie.ok)throw new Error("Failed to fetch marketplace providers.");return await ie.json()},{onSuccess(){te()},onError(){w({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),ce=R==="plugin"?ee:oe,fe=ce?.meta.collections??{},ge=ee?.meta.categories??{},{pagination:pe}=ce?.meta??{};return{pluginsResponse:ee,providersResponse:oe,pluginsStatus:H,providersStatus:le,possibleCollections:fe,possibleCategories:ge,pagination:pe}}const Xe=()=>{const R=typeof navigator<"u"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,[L,D]=u.useState(R),z=()=>D(!0),B=()=>D(!1);return u.useEffect(()=>(window.addEventListener("online",z),window.addEventListener("offline",B),()=>{window.removeEventListener("online",z),window.removeEventListener("offline",B)}),[]),L},Te=()=>{const R=u.useRef(null),{formatMessage:L}=(0,J.c)(),{trackUsage:D}=(0,V.m4)(),z=(0,V.eo)(),[{query:B},Y]=(0,V.WK)(),w=(0,ve.r)(B?.search,500)||"",{autoReload:Z,dependencies:te,useYarn:k,strapiVersion:q}=(0,V.s7)(),ee=Xe(),H=B?.npmPackageType||"plugin",[se,oe]=u.useState({plugin:H==="plugin"?{...B}:{},provider:H==="provider"?{...B}:{}});(0,V.G0)(),u.useEffect(()=>{D("didGoToMarketplace")},[D]),u.useEffect(()=>{Z||z({type:"info",message:{id:"admin.pages.MarketPlacePage.production",defaultMessage:"Manage plugins from the development environment"}})},[z,Z]);const{pluginsResponse:le,providersResponse:ce,pluginsStatus:fe,providersStatus:ge,possibleCollections:pe,possibleCategories:he,pagination:ie}=be({npmPackageType:H,debouncedSearch:w,query:B,tabQuery:se}),de=["plugin","provider"].indexOf(H);if(u.useEffect(()=>{R.current&&R.current._handlers.setSelectedTabIndex(de)},[de]),!ee)return(0,t.jsx)(ze,{});const Ke=ne=>{const re=ne===0?"plugin":"provider",ke=se[re]&&Object.keys(se[re]).length;Y(ke?{...se[re],search:B?.search||"",npmPackageType:re,page:1}:{npmPackageType:re,collections:[],categories:[],sort:"name:asc",page:1,search:B?.search||""})},Me=ne=>{Y({...ne,page:1}),oe(re=>({...re,[H]:{...re[H],...ne}}))},Qe=ne=>{Y({[ne]:[],page:void 0},"remove"),oe(re=>({...re,[H]:{}}))},Je=({sort:ne})=>Me({sort:ne}),Ae=Object.keys(te??{});return(0,t.jsx)(F._,{children:(0,t.jsxs)(T.G,{children:[(0,t.jsx)(X.S,{title:L({id:"admin.pages.MarketPlacePage.helmet",defaultMessage:"Marketplace - Plugins"})}),(0,t.jsx)(Ee,{isOnline:ee,npmPackageType:H}),(0,t.jsxs)(v.S,{children:[(0,t.jsxs)(M.M,{label:L({id:"admin.pages.MarketPlacePage.tab-group.label",defaultMessage:"Plugins and Providers for Strapi"}),id:"tabs",variant:"simple",initialSelectedTabIndex:de,onTabChange:Ke,ref:R,children:[(0,t.jsxs)(n.C,{justifyContent:"space-between",paddingBottom:4,children:[(0,t.jsxs)(S.k,{children:[(0,t.jsxs)(S.s,{children:[L({id:"admin.pages.MarketPlacePage.plugins",defaultMessage:"Plugins"})," ",le?`(${le.meta.pagination.total})`:"..."]}),(0,t.jsxs)(S.s,{children:[L({id:"admin.pages.MarketPlacePage.providers",defaultMessage:"Providers"})," ",ce?`(${ce.meta.pagination.total})`:"..."]})]}),(0,t.jsx)(i.k,{width:"25%",children:(0,t.jsx)(_.E,{name:"searchbar",onClear:()=>Y({search:"",page:1}),value:B?.search,onChange:ne=>Y({search:ne.target.value,page:1}),clearLabel:L({id:"admin.pages.MarketPlacePage.search.clear",defaultMessage:"Clear the search"}),placeholder:L({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"}),children:L({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"})})})]}),(0,t.jsxs)(n.C,{paddingBottom:4,gap:2,children:[(0,t.jsx)(Ue,{sortQuery:B?.sort||"name:asc",handleSelectChange:Je}),(0,t.jsx)(Ne,{npmPackageType:H,possibleCollections:pe,possibleCategories:he,query:B||{},handleSelectChange:Me,handleSelectClear:Qe})]}),(0,t.jsxs)(ae.o,{children:[(0,t.jsx)(ae.G,{children:(0,t.jsx)($e,{npmPackages:le?.data,status:fe,installedPackageNames:Ae,useYarn:k,isInDevelopmentMode:Z,npmPackageType:"plugin",strapiAppVersion:q,debouncedSearch:w})}),(0,t.jsx)(ae.G,{children:(0,t.jsx)($e,{npmPackages:ce?.data,status:ge,installedPackageNames:Ae,useYarn:k,isInDevelopmentMode:Z,npmPackageType:"provider",debouncedSearch:w})})]})]}),ie?(0,t.jsx)(i.k,{paddingTop:4,children:(0,t.jsxs)(n.C,{alignItems:"flex-end",justifyContent:"space-between",children:[(0,t.jsx)(V.A7,{options:["12","24","50","100"],defaultValue:"24"}),(0,t.jsx)(V.cZ,{pagination:ie})]})}):null,(0,t.jsx)(i.k,{paddingTop:8,children:(0,t.jsx)("a",{href:"https://strapi.canny.io/plugin-requests",target:"_blank",rel:"noopener noreferrer nofollow",style:{textDecoration:"none"},onClick:()=>D("didMissMarketplacePlugin"),children:(0,t.jsx)(V._y,{title:L({id:"admin.pages.MarketPlacePage.missingPlugin.title",defaultMessage:"Documentation"}),subtitle:L({id:"admin.pages.MarketPlacePage.missingPlugin.description",defaultMessage:"Tell us what plugin you are looking for and we'll let our community plugin developers know in case they are in search for inspiration!"}),icon:(0,t.jsx)(Q.c,{}),iconBackground:"alternative100",endAction:(0,t.jsx)(d.G,{as:C.c,color:"neutral600",width:3,height:3,marginLeft:2})})})})]})]})})},Ze=()=>{const R=(0,me.w1)(Le.s);return(0,t.jsx)(V.rF,{permissions:R.marketplace.main,children:(0,t.jsx)(Te,{})})}}}]);
